(this.webpackJsonpplayer=this.webpackJsonpplayer||[]).push([[0],{68:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),o=a(32),i=a.n(o),s=a(33),l=a(34),u=a(40),d=a(39),p=a(37),g=a(3),m=a(9),h=a.n(m),j=a(12),b=a(5),v=a(11),O=a(15),y=a(13),f=function(e){var t=e.currentSong,a=e.setCurrentSong,c=e.isPlaying,r=e.setIsPlaying,o=e.audioRef,i=e.songs,s=e.setSongs,l=e.setSongInfo,u=e.songInfo,d=e.timeUpdateHandler,p=e.songEndHandler,g=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},m=function(e){var t=i.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{active:!0}):Object(b.a)(Object(b.a)({},t),{},{active:!1})}));s(t)},v=function(){var e=Object(j.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.findIndex((function(e){return e.id===t.id})),"skip-forward"!==n){e.next=5;break}return e.next=4,a(i[(r+1)%i.length]);case 4:m(i[(r+1)%i.length]);case 5:if("skip-back"!==n){e.next=17;break}if((r-1)%i.length!==-1){e.next=14;break}return e.next=9,a(i[i.length-1]);case 9:return m(i[i.length-1]),c&&o.current.play(),e.abrupt("return",Object(b.a)(Object(b.a)({},t),{},{active:!0}));case 14:return e.next=16,a(i[(r-1)%i.length]);case 16:m(i[(r-1)%i.length]);case 17:c&&o.current.play();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f={transform:"translateX(".concat(u.animationPercentage,"%)")};return Object(n.jsxs)("div",{className:"player",children:[Object(n.jsxs)("div",{className:"time-control",children:[Object(n.jsx)("p",{children:g(u.currentTime)}),Object(n.jsxs)("div",{style:{background:"linear-gradient(to right, ".concat(t.color[0],", ").concat(t.color[1],")")},className:"track",children:[Object(n.jsx)("input",{min:0,max:u.duration||0,value:u.currentTime,type:"range",onChange:function(e){o.current.currentTime=e.target.value,l(Object(b.a)(Object(b.a)({},u),{},{currentTime:e.target.value}))}}),Object(n.jsx)("div",{className:"animate-track",style:f})]}),Object(n.jsx)("p",{children:u.duration?g(u.duration):"0:00"})]}),Object(n.jsxs)("div",{className:"play-control",children:[Object(n.jsx)(O.a,{onClick:function(){return v("skip-back")},icon:y.a,size:"2x",className:"skip-back"}),Object(n.jsx)(O.a,{icon:c?y.d:y.e,size:"2x",className:"play",onClick:function(){c?(o.current.pause(),r(!c)):(o.current.play(),r(!c))}}),Object(n.jsx)(O.a,{onClick:function(){return v("skip-forward")},icon:y.b,size:"2x",className:"skip-forward"})]}),Object(n.jsx)("audio",{onTimeUpdate:d,onLoadedMetadata:d,ref:o,src:t.audio,onEnded:p})]})},x=function(e){var t=e.currentSong;return Object(n.jsxs)("div",{className:"song-container",children:[Object(n.jsx)("img",{alt:t.name,src:t.cover}),Object(n.jsx)("h2",{style:{cursor:"default"},children:t.name}),Object(n.jsx)("h3",{style:{cursor:"default"},children:t.artist})]})},S=function(e){var t=e.id,a=e.song,c=e.songs,r=e.setSongs,o=(e.currentSong,e.setCurrentSong),i=e.audioRef,s=e.isPlaying,l=(e.setIsPlaying,function(){var e=Object(j.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(a),n=c.map((function(e){return e.id===t?Object(b.a)(Object(b.a)({},e),{},{active:!0}):Object(b.a)(Object(b.a)({},e),{},{active:!1})})),r(n),s&&i.current.play();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.jsxs)("div",{onClick:l,className:"library-container ".concat(a.active?"selected":" "),children:[Object(n.jsx)("img",{alt:a.name,src:a.cover}),Object(n.jsxs)("div",{className:"song-description",children:[Object(n.jsx)("h3",{children:a.name}),Object(n.jsx)("h4",{children:a.artist})]})]})},k=function(e){var t=e.libraryStatus,a=e.setLibraryStatus,c=e.songs,r=e.setSongs,o=e.currentSong,i=e.setCurrentSong,s=e.audioRef;e.isPlaying,e.setIsPlaying;return Object(n.jsxs)("div",{style:{background:"linear-gradient(to right, ".concat(o.color[0],", ").concat(o.color[1],")")},className:"library ".concat(t?"active-library":" "),children:[Object(n.jsx)("h2",{onClick:function(){return a(!t)},style:{cursor:"pointer"},children:"Library"}),Object(n.jsx)("div",{className:"library-song",children:c.map((function(e){return Object(n.jsx)(S,{id:e.id,songs:c,song:e,setSongs:r,currentSong:o,setCurrentSong:i,audioRef:s},e.id)}))})]})},w=a(35),N=a(36),C=a.n(N),I="https://sophie21.herokuapp.com/api/auth",M="accessToken";function _(){return(_=Object(j.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post(I,{email:t,password:a});case 3:n=e.sent,localStorage.setItem(M,n.data.accessToken),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert("User Not Found",e.t0),console.error("Error loggin in",e.t0);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var R={login:function(e,t){return _.apply(this,arguments)},loginWithJwt:function(e){localStorage.setItem(M,e)},logout:function(){localStorage.removeItem(M)},getCurrentUser:function(){try{var e=localStorage.getItem(M);return Object(w.a)(e)}catch(t){return null}}},T=function(e){var t=e.libraryStatus,a=e.setLibraryStatus,c=e.currentSong,r=R.getCurrentUser();return Object(n.jsxs)("nav",{style:{color:"".concat(c.color[0])},className:"navbar navbar-light bg-light",children:[Object(n.jsx)("h4",{id:"logo",children:" Sophie'21 "}),Object(n.jsx)("h4",{style:{cursor:"default"},children:r?"Happy 21 ".concat(r.name," \ud83c\udf8a"):""}),Object(n.jsxs)("button",{onClick:function(){return a(!t)},children:["Library",Object(n.jsx)(O.a,{icon:y.c})]}),Object(n.jsx)("button",{onClick:function(){return R.logout(),void(window.location.href="/login")},children:"Logout"})]})},A=(a(68),a(75));var F=function(){return[{id:Object(A.a)(),name:"FROM: Mum",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609643707/michellesophie_wyiyzn.png",color:["#949cdf","#f6ecf0"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609642377/MichelleRuppAudio_cjcmfh.mp3",active:!0},{id:Object(A.a)(),name:"FROM: Dad",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609708585/niksophie_mi6liv.png",color:["#e5707e","#a3ddcb"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609707430/NikAudio_xftylz.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Grandpa & Granny",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609714196/granmasoph_zeg2g6.png",color:["#f5b461","#f3eac2"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609713792/GrandpaGrandmaAudio_b2eocv.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Claire, Steve and Alannah",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609716366/clairealannahsoph_nnfxob.png",color:["#28abb9","#2d6187"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609715970/ClaireAlaanahSteveAudio_m5d04a.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Corrie",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609717711/corriesoph_ud16pt.png",color:["#fa7f72","#ebebeb"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609717597/CorrieAudio_t7qouu.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Granny",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609819028/SusanSoph_ohusab.png",color:["#6f9eaf","#d4e2d4"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609820086/GrannyAudio_tyjavj.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Fergus",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609827216/NolanSOph_q5bp3d.png",color:["#70af85","#c6ebc9"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609828425/FergusAudio_dbwgll.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Sarah",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609827216/SarahSoph_eevdpg.png",color:["#ea97ad","#f3f2da"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609828424/SarahAudio_mflo0c.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Siobhan",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609827054/siobhanSoph_yc5nzp.png",color:["#00917c","#fde8cd"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609827069/SiobhanAudio_ykuhu7.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Aviva, Barend, David and Hanna",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609835912/aviva_mm9bzw.png",color:["#a3ddcb","#fde8cd"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609836692/avivaaudio_a4wphj.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Alexandria",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609824351/Alexandria_kk7rqo.png",color:["#00917c","#fde8cd"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609733635/AlexandriaAudio_tuzdgs.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Ryan",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609818763/RyanSoph_iyymq0.png",color:["#a685e2","#ffe6e6"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609818677/RyanAudio_mdiftk.mp3",active:!1},{id:Object(A.a)(),name:"FROM: Beth",artist:"TO: Sophie",cover:"https://res.cloudinary.com/calumnguyen/image/upload/v1609821235/BethSoph_rrzemw.png",color:["#008891","#e7e7de"],audio:"https://res.cloudinary.com/calumnguyen/video/upload/v1609822509/BethSoph_llpi25.mp3",active:!1}]};var P=function(){var e=Object(c.useState)(F()),t=Object(v.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(a[0]),i=Object(v.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(!1),d=Object(v.a)(u,2),p=d[0],g=d[1],m=Object(c.useState)(!1),O=Object(v.a)(m,2),y=O[0],S=O[1],w=Object(c.useState)({currentTime:0,duration:0,animationPercentage:0}),N=Object(v.a)(w,2),C=N[0],I=N[1],M=Object(c.useRef)(null),_=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.findIndex((function(e){return e.id===s.id})),e.next=3,l(a[(t+1)%a.length]);case 3:p&&M.current.play();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"App ".concat(y?"library-active":""),children:[Object(n.jsx)(T,{libraryStatus:y,setLibraryStatus:S,currentSong:s}),Object(n.jsx)(x,{currentSong:s}),Object(n.jsx)(f,{songInfo:C,setSongInfo:I,songs:a,setSongs:r,audioRef:M,currentSong:s,setCurrentSong:l,isPlaying:p,setIsPlaying:g,timeUpdateHandler:function(e){var t=e.target.currentTime,a=e.target.duration,n=Math.round(t),c=Math.round(a),r=Math.round(n/c*100);I(Object(b.a)(Object(b.a)({},C),{},{currentTime:t,duration:a,animationPercentage:r}))},songEndHandler:_}),Object(n.jsx)(k,{songInfo:C,setSongInfo:I,libraryStatus:y,setLibraryStatus:S,isPlaying:p,setIsPlaying:g,audioRef:M,songs:a,setSongs:r,currentSong:s,setCurrentSong:l})]})};a(69),a.p;function z(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),a=t[0],o=t[1],i=Object(c.useState)(""),s=Object(v.a)(i,2),l=s[0],u=s[1];return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)("div",{className:"login-container p-0 d-inline-flex",style:{height:"100vh",alignItems:"center",width:"100%",backgroundImage:"linear-gradient(to right,#0088b6,#009de4)"},children:Object(n.jsx)("div",{className:"col-12 pl-0 pr-0 setHeightWrap",style:{display:"inline-flex",alignItems:"center",height:"80vh"},children:Object(n.jsx)("div",{className:"col-12 p-0",style:{textAlign:"-webkit-center",height:"100%"},children:Object(n.jsx)("div",{className:"col-lg-9 col-md-10 col-sm-10 col-xs-12 pl-0 pr-0",style:{height:"100%",background:"#fff"},children:Object(n.jsxs)("div",{id:"backgimg",className:"row m-0 ",style:{height:"100%"},children:[Object(n.jsx)("div",{className:"col-lg-6 col-md-6  col-sm-6 col-xs-12 p-0",style:{height:"100%",textAlign:"left"}}),Object(n.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12 login-form-2 alignItemss",style:{display:"flex",alignItems:"center"},children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("div",{className:"row m-0",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("h2",{style:{color:"#2c81c0",lineHeight:2},children:"User Login"})})}),Object(n.jsx)("div",{className:"row m-0",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"form-group",style:{display:"inline-flex",alignItems:"center"},children:[Object(n.jsx)("svg",{style:{position:"relative",left:"30px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#0062cc",class:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:Object(n.jsx)("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"})}),Object(n.jsx)("input",{className:"login-inputs",type:"email",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Email",autoComplete:"true",required:!0})]})})}),Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"form-group",style:{display:"inline-flex",alignItems:"center"},children:[Object(n.jsx)("svg",{style:{position:"relative",left:"30px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#0062cc",class:"bi bi-lock-fill",viewBox:"0 0 16 16",children:Object(n.jsx)("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),Object(n.jsx)("input",{className:"login-inputs",style:{borderRadius:"35px"},type:"password",value:l,onChange:function(e){return u(e.target.value)},placeholder:"Password",autoComplete:"true",required:!0})]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{className:"btnSubmit",onClick:function(e){return function(e){e.preventDefault();try{a.length>0&&l.length>0?R.login(a,l).then((function(){window.location="/home"})).catch((function(e){return console.error(e)})):alert("Please enter correct username and password!")}catch(t){alert("Invalid username or password, please try again!"),console.log("Error logging in: ".concat(t))}}(e)},children:"Login"})})]})})]})})})})})})}var L=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(p.a,{children:Object(n.jsx)("main",{className:" p-0 m-0",children:Object(n.jsxs)(g.d,{children:[!R.getCurrentUser()&&Object(n.jsx)(g.b,{path:"/login",component:z}),R.getCurrentUser()&&Object(n.jsx)(g.b,{path:"/home",component:P}),R.getCurrentUser()&&Object(n.jsx)(g.a,{from:"/",to:"/home"}),!R.getCurrentUser()&&Object(n.jsx)(g.a,{from:"/",to:"/login"})]})})})})}}]),a}(c.Component),U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};a(72);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),U()}},[[73,1,2]]]);
//# sourceMappingURL=main.a5516f98.chunk.js.map